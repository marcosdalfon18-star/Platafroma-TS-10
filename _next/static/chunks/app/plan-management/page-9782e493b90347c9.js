(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1636],{5263:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},17313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>l});var r=a(95155),t=a(12115),i=a(60704),n=a(59434);let l=i.bL,d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});d.displayName=i.B8.displayName;let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});c.displayName=i.l9.displayName;let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});o.displayName=i.UC.displayName},19053:(e,s,a)=>{"use strict";a.d(s,{O:()=>d});var r=a(95155),t=a(12115),i=a(35695),n=a(40283),l=a(50172);let d=e=>{let{children:s,allowedRoles:a}=e,{user:d,loading:c}=(0,n.A)(),o=(0,i.useRouter)();return((0,t.useEffect)(()=>{if(!c){if(!d)return void o.push("/");if(a&&!a.includes(d.role))return void o.push("/dashboard")}},[d,c,o,a]),c)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-8 w-8 animate-spin"})}):d&&(!a||a.includes(d.role))?(0,r.jsx)(r.Fragment,{children:s}):null}},19591:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},26126:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var r=a(95155);a(12115);var t=a(74466),i=a(59434);let n=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:a,...t}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:a}),s),...t})}},30285:(e,s,a)=>{"use strict";a.d(s,{$:()=>c,r:()=>d});var r=a(95155),t=a(12115),i=a(66634),n=a(74466),l=a(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,s)=>{let{className:a,variant:t,size:n,asChild:c=!1,...o}=e,x=c?i.DX:"button";return(0,r.jsx)(x,{className:(0,l.cn)(d({variant:t,size:n,className:a})),ref:s,...o})});c.displayName="Button"},30462:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},30967:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var r=a(95155),t=a(12115),i=a(66695),n=a(30285),l=a(17313),d=a(26126),c=a(85127),o=a(62523),x=a(40157);let m=(0,x.A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var u=a(30462);let h=(0,x.A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var p=a(18271),j=a(18046),f=a(68718),v=a(88390),g=a(3160),N=a(80659),y=a(50286);let b=(0,x.A)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var w=a(54033),A=a(8376),R=a(18763),B=a(17607),E=a(9572);let k=(0,x.A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);var I=a(73672),P=a(5263),C=a(81203),T=a(19591),S=a(19053);let D=[{id:"basic",name:"Plan B\xe1sico",description:"Ideal para peque\xf1as empresas",price:29,currency:"EUR",billing:"monthly",features:["Hasta 10 empleados","Gesti\xf3n b\xe1sica de RRHH","Soporte por email","5GB almacenamiento"],active:!0,popular:!1,subscribers:145},{id:"professional",name:"Plan Profesional",description:"Perfecto para empresas en crecimiento",price:79,currency:"EUR",billing:"monthly",features:["Hasta 100 empleados","M\xf3dulos completos","Soporte prioritario","50GB almacenamiento","Integraciones API"],active:!0,popular:!0,subscribers:89},{id:"enterprise",name:"Plan Enterprise",description:"Soluci\xf3n completa para grandes organizaciones",price:199,currency:"EUR",billing:"monthly",features:["Empleados ilimitados","Todos los m\xf3dulos","Soporte 24/7","Almacenamiento ilimitado","Personalizaci\xf3n completa","Consultor dedicado"],active:!0,popular:!1,subscribers:34}],M=[{id:"1",company:"Innovate Corp",plan:"professional",status:"active",startDate:"2024-01-15",nextBilling:"2024-11-15",amount:79,employees:45,contact:"ana.garcia@innovate.com",paymentMethod:"card",autoRenew:!0},{id:"2",company:"TechStart Solutions",plan:"basic",status:"active",startDate:"2024-03-01",nextBilling:"2024-11-01",amount:29,employees:8,contact:"carlos@techstart.com",paymentMethod:"transfer",autoRenew:!0},{id:"3",company:"Global Enterprises",plan:"enterprise",status:"active",startDate:"2023-12-01",nextBilling:"2024-12-01",amount:199,employees:250,contact:"sofia@global-ent.com",paymentMethod:"card",autoRenew:!0},{id:"4",company:"StartupX",plan:"basic",status:"cancelled",startDate:"2024-02-01",nextBilling:null,amount:29,employees:6,contact:"info@startupx.com",paymentMethod:"card",autoRenew:!1}],_=[{id:"INV-2024-001",company:"Innovate Corp",amount:79,issueDate:"2024-10-15",dueDate:"2024-11-15",status:"paid",paymentDate:"2024-10-16",plan:"professional"},{id:"INV-2024-002",company:"Global Enterprises",amount:199,issueDate:"2024-10-01",dueDate:"2024-11-01",status:"pending",paymentDate:null,plan:"enterprise"},{id:"INV-2024-003",company:"TechStart Solutions",amount:29,issueDate:"2024-10-01",dueDate:"2024-11-01",status:"overdue",paymentDate:null,plan:"basic"}],Z={totalRevenue:24580,monthlyRecurring:8940,totalSubscriptions:268,churnRate:3.2,averageRevenue:67.5,conversionRate:15.8,lifetimeValue:1240};function U(){let[e,s]=(0,t.useState)("overview"),a=e=>{switch(e){case"active":case"paid":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":case"overdue":return"bg-red-100 text-red-800 border-red-200";case"trial":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=e=>{switch(e){case"basic":return(0,r.jsx)(m,{className:"h-4 w-4 text-blue-500"});case"professional":return(0,r.jsx)(u.A,{className:"h-4 w-4 text-yellow-500"});case"enterprise":return(0,r.jsx)(h,{className:"h-4 w-4 text-purple-500"});default:return(0,r.jsx)(m,{className:"h-4 w-4 text-gray-500"})}},U=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e),z=e=>new Date(e).toLocaleDateString("es-ES"),F=e=>{if(!e)return null;let s=new Date;return Math.ceil((new Date(e).getTime()-s.getTime())/864e5)};return(0,r.jsx)(S.O,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,r.jsx)(p.A,{className:"h-8 w-8 text-primary"}),"Gesti\xf3n de Planes y Facturaci\xf3n"]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Administraci\xf3n completa de suscripciones, facturaci\xf3n y m\xe9tricas comerciales"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Nueva Suscripci\xf3n"]}),(0,r.jsxs)(n.$,{variant:"outline",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Exportar Datos"]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ZB,{className:"text-sm font-medium",children:"Ingresos Totales"}),(0,r.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:U(Z.totalRevenue)}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-green-600",children:[(0,r.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"+18% vs mes anterior"]})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ZB,{className:"text-sm font-medium",children:"MRR"}),(0,r.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:U(Z.monthlyRecurring)}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-green-600",children:[(0,r.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"+12% crecimiento mensual"]})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ZB,{className:"text-sm font-medium",children:"Suscripciones Activas"}),(0,r.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:Z.totalSubscriptions}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-green-600",children:[(0,r.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"+24 nuevas este mes"]})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ZB,{className:"text-sm font-medium",children:"Tasa de Churn"}),(0,r.jsx)(b,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[Z.churnRate,"%"]}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-red-600",children:[(0,r.jsx)(w.A,{className:"h-3 w-3 mr-1"}),"-0.8% mejora vs anterior"]})]})]})]}),(0,r.jsxs)(l.tU,{value:e,onValueChange:s,className:"space-y-4",children:[(0,r.jsxs)(l.j7,{className:"grid w-full grid-cols-5",children:[(0,r.jsx)(l.Xi,{value:"overview",children:"Resumen"}),(0,r.jsx)(l.Xi,{value:"plans",children:"Planes"}),(0,r.jsx)(l.Xi,{value:"subscriptions",children:"Suscripciones"}),(0,r.jsx)(l.Xi,{value:"invoices",children:"Facturaci\xf3n"}),(0,r.jsx)(l.Xi,{value:"analytics",children:"Analytics"})]}),(0,r.jsxs)(l.av,{value:"overview",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Distribuci\xf3n por Planes"}),(0,r.jsx)(i.BT,{children:"Suscriptores activos por tipo de plan"})]}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:D.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[x(e.id),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[U(e.price),"/mes"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium",children:e.subscribers}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"suscriptores"})]})]},e.id))})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Facturas Pendientes"}),(0,r.jsx)(i.BT,{children:"Pagos por cobrar y vencimientos pr\xf3ximos"})]}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:_.filter(e=>"paid"!==e.status).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium",children:e.company}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.id," • Vence: ",z(e.dueDate)]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium",children:U(e.amount)}),(0,r.jsx)(d.E,{className:a(e.status),children:"pending"===e.status?"Pendiente":"overdue"===e.status?"Vencida":e.status})]})]},e.id))})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"M\xe9tricas Clave de Negocio"}),(0,r.jsx)(i.BT,{children:"Indicadores principales de rendimiento comercial"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:U(Z.averageRevenue)}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"ARPU (Revenue per User)"})]}),(0,r.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Z.conversionRate,"%"]}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tasa de Conversi\xf3n"})]}),(0,r.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:U(Z.lifetimeValue)}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"LTV (Lifetime Value)"})]}),(0,r.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"18.5"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Meses Promedio"})]})]})})]})]}),(0,r.jsx)(l.av,{value:"plans",className:"space-y-4",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.ZB,{children:"Gesti\xf3n de Planes"}),(0,r.jsx)(i.BT,{children:"Administra los planes de suscripci\xf3n disponibles"})]}),(0,r.jsxs)(n.$,{children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Crear Plan"]})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-3",children:D.map(e=>(0,r.jsxs)(i.Zp,{className:"relative ".concat(e.popular?"border-primary":""),children:[e.popular&&(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,r.jsx)(d.E,{className:"bg-primary",children:"M\xe1s Popular"})}),(0,r.jsxs)(i.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto mb-4 p-3 bg-primary/10 rounded-full w-fit",children:x(e.id)}),(0,r.jsx)(i.ZB,{children:e.name}),(0,r.jsx)(i.BT,{children:e.description}),(0,r.jsxs)("div",{className:"text-3xl font-bold",children:[U(e.price),(0,r.jsx)("span",{className:"text-base font-normal text-muted-foreground",children:"/mes"})]})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)("ul",{className:"space-y-2 mb-6",children:e.features.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(A.A,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),e]},s))}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:[e.subscribers," suscriptores activos"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex-1",children:[(0,r.jsx)(R.A,{className:"h-3 w-3 mr-1"}),"Editar"]}),(0,r.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex-1",children:[(0,r.jsx)(B.A,{className:"h-3 w-3 mr-1"}),"Ver"]})]})]})]})]},e.id))})})]})}),(0,r.jsx)(l.av,{value:"subscriptions",className:"space-y-4",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.ZB,{children:"Suscripciones Activas"}),(0,r.jsx)(i.BT,{children:"Gesti\xf3n de todas las suscripciones de clientes"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(o.p,{placeholder:"Buscar empresa...",className:"w-64"}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",children:(0,r.jsx)(E.A,{className:"h-4 w-4"})})]})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{children:"Empresa"}),(0,r.jsx)(c.nd,{children:"Plan"}),(0,r.jsx)(c.nd,{children:"Estado"}),(0,r.jsx)(c.nd,{children:"Empleados"}),(0,r.jsx)(c.nd,{children:"Facturaci\xf3n"}),(0,r.jsx)(c.nd,{children:"Pr\xf3ximo Pago"}),(0,r.jsx)(c.nd,{children:"Acciones"})]})}),(0,r.jsx)(c.BF,{children:M.map(e=>{let s=F(e.nextBilling),t=D.find(s=>s.id===e.plan);return(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.company}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.contact})]})}),(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[x(e.plan),(0,r.jsx)("span",{children:null==t?void 0:t.name})]})}),(0,r.jsx)(c.nA,{children:(0,r.jsx)(d.E,{className:a(e.status),children:"active"===e.status?"Activa":"cancelled"===e.status?"Cancelada":e.status})}),(0,r.jsx)(c.nA,{children:e.employees}),(0,r.jsxs)(c.nA,{children:[U(e.amount),"/mes"]}),(0,r.jsx)(c.nA,{children:e.nextBilling?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:z(e.nextBilling)}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:null!==s&&s>=0?"en ".concat(s," d\xedas"):"Vencido"})]}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:(0,r.jsx)(B.A,{className:"h-3 w-3"})}),(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:(0,r.jsx)(R.A,{className:"h-3 w-3"})}),(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:(0,r.jsx)(k,{className:"h-3 w-3"})})]})})]},e.id)})})]})})]})}),(0,r.jsx)(l.av,{value:"invoices",className:"space-y-4",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.ZB,{children:"Centro de Facturaci\xf3n"}),(0,r.jsx)(i.BT,{children:"Gesti\xf3n de facturas, pagos y cobranza"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Generar Factura"]}),(0,r.jsxs)(n.$,{variant:"outline",children:[(0,r.jsx)(I.A,{className:"mr-2 h-4 w-4"}),"Enviar Recordatorios"]})]})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{children:"Factura"}),(0,r.jsx)(c.nd,{children:"Empresa"}),(0,r.jsx)(c.nd,{children:"Plan"}),(0,r.jsx)(c.nd,{children:"Importe"}),(0,r.jsx)(c.nd,{children:"Fecha Emisi\xf3n"}),(0,r.jsx)(c.nd,{children:"Vencimiento"}),(0,r.jsx)(c.nd,{children:"Estado"}),(0,r.jsx)(c.nd,{children:"Acciones"})]})}),(0,r.jsx)(c.BF,{children:_.map(e=>{let s=D.find(s=>s.id===e.plan);return(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nA,{children:(0,r.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.id})}),(0,r.jsx)(c.nA,{children:e.company}),(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[x(e.plan),(0,r.jsx)("span",{children:null==s?void 0:s.name})]})}),(0,r.jsx)(c.nA,{className:"font-medium",children:U(e.amount)}),(0,r.jsx)(c.nA,{children:z(e.issueDate)}),(0,r.jsx)(c.nA,{children:z(e.dueDate)}),(0,r.jsx)(c.nA,{children:(0,r.jsx)(d.E,{className:a(e.status),children:"paid"===e.status?"Pagada":"pending"===e.status?"Pendiente":"overdue"===e.status?"Vencida":e.status})}),(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:(0,r.jsx)(f.A,{className:"h-3 w-3"})}),(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:(0,r.jsx)(I.A,{className:"h-3 w-3"})}),(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:(0,r.jsx)(R.A,{className:"h-3 w-3"})})]})})]},e.id)})})]})})]})}),(0,r.jsxs)(l.av,{value:"analytics",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Crecimiento de Ingresos"}),(0,r.jsx)(i.BT,{children:"Evoluci\xf3n mensual de MRR"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"text-center p-12 border-2 border-dashed rounded-lg",children:[(0,r.jsx)(P.A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Gr\xe1fico de Crecimiento"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Visualizaci\xf3n del MRR y crecimiento mensual"})]})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Distribuci\xf3n de Ingresos"}),(0,r.jsx)(i.BT,{children:"Ingresos por tipo de plan"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:D.map(e=>{let s=e.price*e.subscribers,a=(s/Z.monthlyRecurring*100).toFixed(1);return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[x(e.id),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium",children:U(s)}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a,"%"]})]})]},e.id)})})})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Analytics Avanzados"}),(0,r.jsx)(i.BT,{children:"M\xe9tricas detalladas del negocio SaaS"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"text-center p-6 border rounded-lg",children:[(0,r.jsx)(C.A,{className:"mx-auto h-8 w-8 text-blue-500 mb-3"}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:"84.2%"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tasa de Retenci\xf3n"})]}),(0,r.jsxs)("div",{className:"text-center p-6 border rounded-lg",children:[(0,r.jsx)(N.A,{className:"mx-auto h-8 w-8 text-green-500 mb-3"}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:"23.1%"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Crecimiento MRR"})]}),(0,r.jsxs)("div",{className:"text-center p-6 border rounded-lg",children:[(0,r.jsx)(T.A,{className:"mx-auto h-8 w-8 text-purple-500 mb-3"}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:"12.8"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Payback Period (meses)"})]})]})})]})]})]})]})})}},40283:(e,s,a)=>{"use strict";a.d(s,{A:()=>c,AuthProvider:()=>o});var r=a(95155),t=a(12115),i=a(93004),n=a(35317),l=a(70412);let d=(0,t.createContext)(void 0),c=()=>{let e=(0,t.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:s}=e,[a,c]=(0,t.useState)(null),[o,x]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=(0,i.hg)(l.j,async e=>{if(e){let s=await (0,n.x7)((0,n.H9)(l.db,"users",e.uid));if(s.exists()){let a=s.data();c({uid:e.uid,email:e.email,displayName:e.displayName||a.displayName,role:a.role,companyId:a.companyId})}}else c(null);x(!1)});return()=>e()},[]);let m=async(e,s)=>{x(!0);try{await (0,i.x9)(l.j,e,s)}catch(e){throw x(!1),e}},u=async(e,s,a,r)=>{x(!0);try{let{user:t}=await (0,i.eJ)(l.j,e,s);await (0,i.r7)(t,{displayName:a}),await (0,n.BN)((0,n.H9)(l.db,"users",t.uid),{email:e,displayName:a,role:r,createdAt:new Date,updatedAt:new Date})}catch(e){throw x(!1),e}},h=async()=>{await (0,i.CI)(l.j)},p=async e=>{await (0,i.J1)(l.j,e)},j=async e=>{if(!a||!l.j.currentUser)throw Error("No user authenticated");e.displayName&&e.displayName!==a.displayName&&await (0,i.r7)(l.j.currentUser,{displayName:e.displayName}),await (0,n.mZ)((0,n.H9)(l.db,"users",a.uid),{...e,updatedAt:(0,n.O5)()}),c(s=>s?{...s,...e}:null)},f=async()=>{if(!l.j.currentUser)throw Error("No user authenticated");await (0,i.gA)(l.j.currentUser)};return(0,r.jsx)(d.Provider,{value:{user:a,loading:o,login:m,register:u,logout:h,resetPassword:p,updateUserProfile:j,verifyEmail:f},children:s})}},47531:(e,s,a)=>{Promise.resolve().then(a.bind(a,30967))},50286:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},59434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var r=a(52596),t=a(39688);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,t.QP)((0,r.$)(s))}},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var r=a(95155),t=a(12115),i=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,type:t,...n}=e;return(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...n})});n.displayName="Input"},66695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>l,wL:()=>x});var r=a(95155),t=a(12115),i=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});n.displayName="Card";let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...t})});l.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent";let x=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a),...t})});x.displayName="CardFooter"},70412:(e,s,a)=>{"use strict";a.d(s,{db:()=>c,j:()=>d,y:()=>l});var r=a(23915),t=a(93004),i=a(35317),n=a(87358);for(let e of["NEXT_PUBLIC_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_APP_ID"])if(!n.env[e])throw Error("Missing required environment variable: ".concat(e));let l=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyCfyNXGXUX0ip0icCSuDlKasX2PN4GIKiY",authDomain:"studio-6568907544-ca1d2.firebaseapp.com",projectId:"studio-6568907544-ca1d2",storageBucket:"studio-6568907544-ca1d2.appspot.com",messagingSenderId:"95313933174",appId:"1:95313933174:web:04ac254b7c65fdbdbfc057"}),d=(0,t.xI)(l),c=(0,i.aU)(l)},73672:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},80659:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},81203:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},85127:(e,s,a)=>{"use strict";a.d(s,{A0:()=>l,BF:()=>d,Hj:()=>c,XI:()=>n,nA:()=>x,nd:()=>o});var r=a(95155),t=a(12115),i=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",a),...t})})});n.displayName="Table";let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",a),...t})});l.displayName="TableHeader";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...t})});d.displayName="TableBody",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t})}).displayName="TableFooter";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t})});c.displayName="TableRow";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...t})});o.displayName="TableHead";let x=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...t})});x.displayName="TableCell",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...t})}).displayName="TableCaption"},88390:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,4277,3909,4052,8360,8441,1684,7358],()=>s(47531)),_N_E=e.O()}]);