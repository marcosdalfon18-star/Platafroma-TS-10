(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7186],{17313:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>l});var a=t(95155),r=t(12115),i=t(60704),n=t(59434);let l=i.bL,d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});d.displayName=i.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=i.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=i.UC.displayName},19053:(e,s,t)=>{"use strict";t.d(s,{O:()=>d});var a=t(95155),r=t(12115),i=t(35695),n=t(40283),l=t(50172);let d=e=>{let{children:s,allowedRoles:t}=e,{user:d,loading:c}=(0,n.A)(),o=(0,i.useRouter)();return((0,r.useEffect)(()=>{if(!c){if(!d)return void o.push("/");if(t&&!t.includes(d.role))return void o.push("/dashboard")}},[d,c,o,t]),c)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin"})}):d&&(!t||t.includes(d.role))?(0,a.jsx)(a.Fragment,{children:s}):null}},21612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var a=t(95155),r=t(12115),i=t(66695),n=t(30285),l=t(17313),d=t(26126),c=t(24944),o=t(85127),x=t(62523),m=t(31949),u=t(27300),h=t(50594),j=t(8376),f=t(11133),p=t(76570),g=t(18046),v=t(68718),N=t(45731),b=t(3160),y=t(54033),w=t(15300),A=t(45727),E=t(31573),B=t(47053),R=t(17607),k=t(18763),C=t(3561),S=t(67554),T=t(9572),I=t(75074),P=t(18271),_=t(26854),z=t(87057),U=t(19053);let D=[{id:"1",name:"Pol\xedtica de Contrase\xf1as",category:"Autenticaci\xf3n",status:"active",compliance:95,lastUpdated:"2024-10-01",description:"Requisitos m\xednimos para contrase\xf1as corporativas",severity:"high",affectedUsers:145},{id:"2",name:"Acceso a Datos Sensibles",category:"Protecci\xf3n de Datos",status:"active",compliance:87,lastUpdated:"2024-09-15",description:"Controles de acceso para informaci\xf3n confidencial",severity:"critical",affectedUsers:89},{id:"3",name:"Uso de Dispositivos Personales",category:"BYOD",status:"draft",compliance:0,lastUpdated:"2024-10-10",description:"Normativas para uso de dispositivos personales en el trabajo",severity:"medium",affectedUsers:0}],Z=[{id:"1",timestamp:"2024-10-13T10:30:00",user:"Ana Garc\xeda",action:"Login Attempt",resource:"Sistema Principal",status:"success",ipAddress:"192.168.1.105",location:"Madrid, Espa\xf1a",risk:"low"},{id:"2",timestamp:"2024-10-13T09:45:00",user:"Carlos L\xf3pez",action:"Data Export",resource:"Base de Datos Clientes",status:"success",ipAddress:"192.168.1.128",location:"Barcelona, Espa\xf1a",risk:"medium"},{id:"3",timestamp:"2024-10-13T08:20:00",user:"Sistema",action:"Failed Login",resource:"Panel Admin",status:"blocked",ipAddress:"203.45.78.123",location:"Desconocida",risk:"high"}],X=[{id:"1",type:"Intento de Intrusi\xf3n",severity:"high",status:"investigating",timestamp:"2024-10-13T11:15:00",source:"203.45.78.123",description:"M\xfaltiples intentos de acceso fallidos detectados",affectedSystems:["Panel Admin","Base de Datos"],mitigationStatus:"in-progress"},{id:"2",type:"Malware Detectado",severity:"critical",status:"resolved",timestamp:"2024-10-12T15:30:00",source:"Correo Electr\xf3nico",description:"Archivo adjunto malicioso interceptado y eliminado",affectedSystems:["Sistema de Email"],mitigationStatus:"completed"},{id:"3",type:"Acceso No Autorizado",severity:"medium",status:"monitoring",timestamp:"2024-10-11T14:45:00",source:"VPN Externa",description:"Acceso desde ubicaci\xf3n inusual detectado",affectedSystems:["VPN","Archivos Corporativos"],mitigationStatus:"monitoring"}],F=[{framework:"GDPR",score:92,status:"compliant",lastAudit:"2024-09-01",nextAudit:"2024-12-01",requirements:28,completed:26,pending:2},{framework:"ISO 27001",score:85,status:"in-progress",lastAudit:"2024-08-15",nextAudit:"2024-11-15",requirements:35,completed:30,pending:5},{framework:"SOX",score:78,status:"needs-attention",lastAudit:"2024-07-20",nextAudit:"2024-10-20",requirements:22,completed:17,pending:5}],$=[{id:"1",name:"Base de Datos Principal",type:"Database",lastBackup:"2024-10-13T06:00:00",size:"2.4 GB",status:"success",retention:"30 d\xedas",frequency:"Diario"},{id:"2",name:"Archivos de Usuario",type:"Files",lastBackup:"2024-10-13T02:00:00",size:"8.7 GB",status:"success",retention:"90 d\xedas",frequency:"Diario"},{id:"3",name:"Configuraciones del Sistema",type:"System",lastBackup:"2024-10-12T23:00:00",size:"156 MB",status:"warning",retention:"365 d\xedas",frequency:"Semanal"}];function H(){let[e,s]=(0,r.useState)("overview"),t=e=>{switch(e){case"active":case"success":case"compliant":case"resolved":return"bg-green-100 text-green-800 border-green-200";case"warning":case"in-progress":case"investigating":case"monitoring":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"error":case"blocked":case"critical":case"needs-attention":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},H=e=>{switch(e){case"critical":return(0,a.jsx)(m.A,{className:"h-4 w-4 text-red-500"});case"high":return(0,a.jsx)(u.A,{className:"h-4 w-4 text-orange-500"});case"medium":return(0,a.jsx)(h.A,{className:"h-4 w-4 text-yellow-500"});case"low":return(0,a.jsx)(j.A,{className:"h-4 w-4 text-green-500"});default:return(0,a.jsx)(f.A,{className:"h-4 w-4 text-gray-500"})}},L=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsx)(U.O,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,a.jsx)(p.A,{className:"h-8 w-8 text-primary"}),"Centro de Ciberseguridad"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Gesti\xf3n integral de seguridad, pol\xedticas y cumplimiento normativo"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Nueva Pol\xedtica"]}),(0,a.jsxs)(n.$,{variant:"outline",children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Informe de Seguridad"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Estado de Seguridad"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Seguro"}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-green-600",children:[(0,a.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"95% de cumplimiento"]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Amenazas Activas"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"2"}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-yellow-600",children:[(0,a.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"-1 vs semana anterior"]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Pol\xedticas Activas"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:D.filter(e=>"active"===e.status).length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["de ",D.length," pol\xedticas"]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"\xdaltimos Backups"}),(0,a.jsx)(A.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:$.filter(e=>"success"===e.status).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"exitosos hoy"})]})]})]}),(0,a.jsxs)(l.tU,{value:e,onValueChange:s,className:"space-y-4",children:[(0,a.jsxs)(l.j7,{className:"grid w-full grid-cols-6",children:[(0,a.jsx)(l.Xi,{value:"overview",children:"Resumen"}),(0,a.jsx)(l.Xi,{value:"policies",children:"Pol\xedticas"}),(0,a.jsx)(l.Xi,{value:"threats",children:"Amenazas"}),(0,a.jsx)(l.Xi,{value:"audit",children:"Auditor\xeda"}),(0,a.jsx)(l.Xi,{value:"compliance",children:"Cumplimiento"}),(0,a.jsx)(l.Xi,{value:"backups",children:"Backups"})]}),(0,a.jsxs)(l.av,{value:"overview",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Estado General de Seguridad"}),(0,a.jsx)(i.BT,{children:"Vista general del nivel de protecci\xf3n"})]}),(0,a.jsx)(i.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{children:"Firewall"})]}),(0,a.jsx)(d.E,{className:"bg-green-100 text-green-800",children:"Activo"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{children:"Encriptaci\xf3n"})]}),(0,a.jsx)(d.E,{className:"bg-green-100 text-green-800",children:"SSL/TLS"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{children:"Autenticaci\xf3n 2FA"})]}),(0,a.jsx)(d.E,{className:"bg-yellow-100 text-yellow-800",children:"Parcial"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(R.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{children:"Monitoreo"})]}),(0,a.jsx)(d.E,{className:"bg-green-100 text-green-800",children:"24/7"})]})]})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Amenazas Recientes"}),(0,a.jsx)(i.BT,{children:"\xdaltimas detecciones de seguridad"})]}),(0,a.jsx)(i.Wu,{className:"space-y-4",children:X.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[H(e.severity),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.type}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]}),(0,a.jsx)(d.E,{className:t(e.status),children:"investigating"===e.status?"Investigando":"resolved"===e.status?"Resuelto":"monitoring"===e.status?"Monitoreando":e.status})]},e.id))})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Estado de Cumplimiento Normativo"}),(0,a.jsx)(i.BT,{children:"Progreso en marcos regulatorios principales"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:F.map(e=>(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:e.framework}),(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",style:{color:e.score>=90?"#16a34a":e.score>=70?"#eab308":"#dc2626"},children:[e.score,"%"]}),(0,a.jsx)(c.k,{value:e.score,className:"mb-2"}),(0,a.jsx)(d.E,{className:t(e.status),children:"compliant"===e.status?"Cumple":"in-progress"===e.status?"En Progreso":"needs-attention"===e.status?"Requiere Atenci\xf3n":e.status})]},e.framework))})})]})]}),(0,a.jsx)(l.av,{value:"policies",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{children:"Pol\xedticas de Seguridad"}),(0,a.jsx)(i.BT,{children:"Gesti\xf3n de normativas y procedimientos de seguridad"})]}),(0,a.jsxs)(n.$,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Nueva Pol\xedtica"]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Pol\xedtica"}),(0,a.jsx)(o.nd,{children:"Categor\xeda"}),(0,a.jsx)(o.nd,{children:"Estado"}),(0,a.jsx)(o.nd,{children:"Cumplimiento"}),(0,a.jsx)(o.nd,{children:"Usuarios Afectados"}),(0,a.jsx)(o.nd,{children:"\xdaltima Actualizaci\xf3n"}),(0,a.jsx)(o.nd,{children:"Acciones"})]})}),(0,a.jsx)(o.BF,{children:D.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{variant:"outline",children:e.category})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{className:t(e.status),children:"active"===e.status?"Activa":"draft"===e.status?"Borrador":e.status})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.k,{value:e.compliance,className:"w-16"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.compliance,"%"]})]})}),(0,a.jsx)(o.nA,{children:e.affectedUsers}),(0,a.jsx)(o.nA,{children:L(e.lastUpdated)}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(R.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(k.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(C.A,{className:"h-3 w-3"})})]})})]},e.id))})]})})]})}),(0,a.jsx)(l.av,{value:"threats",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{children:"Centro de Amenazas"}),(0,a.jsx)(i.BT,{children:"Monitoreo y gesti\xf3n de amenazas de seguridad"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"}),"Actualizar"]}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Amenaza"}),(0,a.jsx)(o.nd,{children:"Severidad"}),(0,a.jsx)(o.nd,{children:"Estado"}),(0,a.jsx)(o.nd,{children:"Origen"}),(0,a.jsx)(o.nd,{children:"Sistemas Afectados"}),(0,a.jsx)(o.nd,{children:"Fecha"}),(0,a.jsx)(o.nd,{children:"Acciones"})]})}),(0,a.jsx)(o.BF,{children:X.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[H(e.severity),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.type}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{className:"critical"===e.severity?"bg-red-100 text-red-800":"high"===e.severity?"bg-orange-100 text-orange-800":"medium"===e.severity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:"critical"===e.severity?"Cr\xedtica":"high"===e.severity?"Alta":"medium"===e.severity?"Media":"Baja"})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{className:t(e.status),children:"investigating"===e.status?"Investigando":"resolved"===e.status?"Resuelto":"monitoring"===e.status?"Monitoreando":e.status})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.source})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("div",{className:"text-sm",children:e.affectedSystems.join(", ")})}),(0,a.jsx)(o.nA,{children:L(e.timestamp)}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(R.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(u.A,{className:"h-3 w-3"})})]})})]},e.id))})]})})]})}),(0,a.jsx)(l.av,{value:"audit",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{children:"Logs de Auditor\xeda"}),(0,a.jsx)(i.BT,{children:"Registro detallado de actividades del sistema"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(x.p,{placeholder:"Buscar en logs...",className:"w-64"}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:(0,a.jsx)(I.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Fecha/Hora"}),(0,a.jsx)(o.nd,{children:"Usuario"}),(0,a.jsx)(o.nd,{children:"Acci\xf3n"}),(0,a.jsx)(o.nd,{children:"Recurso"}),(0,a.jsx)(o.nd,{children:"Estado"}),(0,a.jsx)(o.nd,{children:"IP"}),(0,a.jsx)(o.nd,{children:"Ubicaci\xf3n"}),(0,a.jsx)(o.nd,{children:"Riesgo"})]})}),(0,a.jsx)(o.BF,{children:Z.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{children:L(e.timestamp)}),(0,a.jsx)(o.nA,{children:e.user}),(0,a.jsx)(o.nA,{children:e.action}),(0,a.jsx)(o.nA,{children:e.resource}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{className:t(e.status),children:"success"===e.status?"\xc9xito":"blocked"===e.status?"Bloqueado":e.status})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.ipAddress})}),(0,a.jsx)(o.nA,{children:e.location}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{className:"high"===e.risk?"bg-red-100 text-red-800":"medium"===e.risk?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:"high"===e.risk?"Alto":"medium"===e.risk?"Medio":"Bajo"})})]},e.id))})]})})]})}),(0,a.jsx)(l.av,{value:"compliance",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Cumplimiento Normativo"}),(0,a.jsx)(i.BT,{children:"Estado de cumplimiento de marcos regulatorios"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-6",children:F.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.framework}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["\xdaltima auditor\xeda: ",L(e.lastAudit)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",style:{color:e.score>=90?"#16a34a":e.score>=70?"#eab308":"#dc2626"},children:[e.score,"%"]}),(0,a.jsx)(d.E,{className:t(e.status),children:"compliant"===e.status?"Cumple":"in-progress"===e.status?"En Progreso":"needs-attention"===e.status?"Requiere Atenci\xf3n":e.status})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"text-xl font-bold",children:e.requirements}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Requisitos Totales"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-green-600",children:e.completed}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Completados"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-yellow-600",children:e.pending}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pendientes"})]})]}),(0,a.jsx)(c.k,{value:e.completed/e.requirements*100,className:"mb-4"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Pr\xf3xima auditor\xeda: ",L(e.nextAudit)]}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:"Ver Detalles"})]})]},e.framework))})})]})}),(0,a.jsx)(l.av,{value:"backups",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{children:"Sistema de Backups"}),(0,a.jsx)(i.BT,{children:"Gesti\xf3n y monitoreo de copias de seguridad"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{children:[(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"}),"Backup Manual"]}),(0,a.jsx)(n.$,{variant:"outline",children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Recurso"}),(0,a.jsx)(o.nd,{children:"Tipo"}),(0,a.jsx)(o.nd,{children:"\xdaltimo Backup"}),(0,a.jsx)(o.nd,{children:"Tama\xf1o"}),(0,a.jsx)(o.nd,{children:"Estado"}),(0,a.jsx)(o.nd,{children:"Frecuencia"}),(0,a.jsx)(o.nd,{children:"Retenci\xf3n"}),(0,a.jsx)(o.nd,{children:"Acciones"})]})}),(0,a.jsx)(o.BF,{children:$.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["Database"===e.type?(0,a.jsx)(A.A,{className:"h-4 w-4 text-blue-500"}):"Files"===e.type?(0,a.jsx)(_.A,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(z.A,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{variant:"outline",children:e.type})}),(0,a.jsx)(o.nA,{children:L(e.lastBackup)}),(0,a.jsx)(o.nA,{children:e.size}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{className:t(e.status),children:"success"===e.status?"Exitoso":"warning"===e.status?"Advertencia":e.status})}),(0,a.jsx)(o.nA,{children:e.frequency}),(0,a.jsx)(o.nA,{children:e.retention}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(v.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(S.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(P.A,{className:"h-3 w-3"})})]})})]},e.id))})]})})]})})]})]})})}},24944:(e,s,t)=>{"use strict";t.d(s,{k:()=>l});var a=t(95155),r=t(12115),i=t(88216),n=t(59434);let l=r.forwardRef((e,s)=>{let{className:t,value:r,...l}=e;return(0,a.jsx)(i.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});l.displayName=i.bL.displayName},26126:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(95155);t(12115);var r=t(74466),i=t(59434);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:t}),s),...r})}},30285:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>d});var a=t(95155),r=t(12115),i=t(66634),n=t(74466),l=t(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:c=!1,...o}=e,x=c?i.DX:"button";return(0,a.jsx)(x,{className:(0,l.cn)(d({variant:r,size:n,className:t})),ref:s,...o})});c.displayName="Button"},39653:(e,s,t)=>{Promise.resolve().then(t.bind(t,21612))},40283:(e,s,t)=>{"use strict";t.d(s,{A:()=>c,AuthProvider:()=>o});var a=t(95155),r=t(12115),i=t(93004),n=t(35317),l=t(70412);let d=(0,r.createContext)(void 0),c=()=>{let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:s}=e,[t,c]=(0,r.useState)(null),[o,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,i.hg)(l.j,async e=>{if(e){let s=await (0,n.x7)((0,n.H9)(l.db,"users",e.uid));if(s.exists()){let t=s.data();c({uid:e.uid,email:e.email,displayName:e.displayName||t.displayName,role:t.role,companyId:t.companyId})}}else c(null);x(!1)});return()=>e()},[]);let m=async(e,s)=>{x(!0);try{await (0,i.x9)(l.j,e,s)}catch(e){throw x(!1),e}},u=async(e,s,t,a)=>{x(!0);try{let{user:r}=await (0,i.eJ)(l.j,e,s);await (0,i.r7)(r,{displayName:t}),await (0,n.BN)((0,n.H9)(l.db,"users",r.uid),{email:e,displayName:t,role:a,createdAt:new Date,updatedAt:new Date})}catch(e){throw x(!1),e}},h=async()=>{await (0,i.CI)(l.j)},j=async e=>{await (0,i.J1)(l.j,e)},f=async e=>{if(!t||!l.j.currentUser)throw Error("No user authenticated");e.displayName&&e.displayName!==t.displayName&&await (0,i.r7)(l.j.currentUser,{displayName:e.displayName}),await (0,n.mZ)((0,n.H9)(l.db,"users",t.uid),{...e,updatedAt:(0,n.O5)()}),c(s=>s?{...s,...e}:null)},p=async()=>{if(!l.j.currentUser)throw Error("No user authenticated");await (0,i.gA)(l.j.currentUser)};return(0,a.jsx)(d.Provider,{value:{user:t,loading:o,login:m,register:u,logout:h,resetPassword:j,updateUserProfile:f,verifyEmail:p},children:s})}},59434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(52596),r=t(39688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},62523:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(95155),r=t(12115),i=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"},66695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>l,wL:()=>x});var a=t(95155),r=t(12115),i=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})});x.displayName="CardFooter"},70412:(e,s,t)=>{"use strict";t.d(s,{db:()=>c,j:()=>d,y:()=>l});var a=t(23915),r=t(93004),i=t(35317),n=t(87358);for(let e of["NEXT_PUBLIC_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_APP_ID"])if(!n.env[e])throw Error("Missing required environment variable: ".concat(e));let l=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyCfyNXGXUX0ip0icCSuDlKasX2PN4GIKiY",authDomain:"studio-6568907544-ca1d2.firebaseapp.com",projectId:"studio-6568907544-ca1d2",storageBucket:"studio-6568907544-ca1d2.appspot.com",messagingSenderId:"95313933174",appId:"1:95313933174:web:04ac254b7c65fdbdbfc057"}),d=(0,r.xI)(l),c=(0,i.aU)(l)},85127:(e,s,t)=>{"use strict";t.d(s,{A0:()=>l,BF:()=>d,Hj:()=>c,XI:()=>n,nA:()=>x,nd:()=>o});var a=t(95155),r=t(12115),i=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",t),...r})})});n.displayName="Table";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",t),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",t),...r})});d.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});c.displayName="TableRow";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});o.displayName="TableHead";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});x.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,4277,3909,4052,8360,515,8441,1684,7358],()=>s(39653)),_N_E=e.O()}]);