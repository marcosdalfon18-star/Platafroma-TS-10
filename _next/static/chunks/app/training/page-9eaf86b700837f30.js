(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5695,7637],{3408:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>E});var a=r(95155),t=r(12115),i=r(66695),n=r(30285),l=r(26126),d=r(24944),c=r(17313),o=r(18046),u=r(8376),m=r(13300),x=r(11133),f=r(37648),p=r(51920),h=r(50286),g=r(91467),j=r(80659),v=r(27379),N=r(40283),y=r(19053);let b=[{id:1,title:"Seguridad en el Trabajo",category:"Obligatorio",progress:75,duration:"2 horas",deadline:"2024-10-20",status:"in_progress",instructor:"Ana Garc\xeda"},{id:2,title:"Liderazgo Efectivo",category:"Desarrollo",progress:100,duration:"4 horas",deadline:"2024-10-15",status:"completed",instructor:"Carlos Mendoza"},{id:3,title:"Nuevas Tecnolog\xedas 2024",category:"T\xe9cnico",progress:0,duration:"6 horas",deadline:"2024-11-01",status:"pending",instructor:"Mar\xeda L\xf3pez"}],w=[{id:4,title:"Comunicaci\xf3n Asertiva",category:"Habilidades Blandas",duration:"3 horas",participants:24,rating:4.8,level:"Intermedio"},{id:5,title:"Excel Avanzado",category:"T\xe9cnico",duration:"8 horas",participants:156,rating:4.9,level:"Avanzado"}],A={completed:8,inProgress:2,pending:3,totalHours:24};function E(){let{user:e}=(0,N.A)(),[s,r]=(0,t.useState)("my-trainings"),E=(null==e?void 0:e.role)&&["consultor","empresario","gestor"].includes(e.role),C=e=>{switch(e){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},_=e=>{switch(e){case"completed":return"Completado";case"in_progress":return"En Progreso";case"pending":return"Pendiente";default:return"Sin Estado"}};return(0,a.jsx)(y.O,{allowedRoles:["consultor","empresario","empleado","gestor"],children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Capacitaci\xf3n"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Desarrollo profesional y formaci\xf3n continua"})]}),E&&(0,a.jsxs)(n.$,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Nueva Capacitaci\xf3n"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.A,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Completadas"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:A.completed})]})]})})}),(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"En Progreso"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:A.inProgress})]})]})})}),(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.A,{className:"h-8 w-8 text-yellow-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendientes"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:A.pending})]})]})})}),(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.A,{className:"h-8 w-8 text-purple-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Horas Totales"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[A.totalHours,"h"]})]})]})})})]}),(0,a.jsxs)(c.tU,{value:s,onValueChange:r,className:"space-y-6",children:[(0,a.jsxs)(c.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(c.Xi,{value:"my-trainings",children:"Mis Capacitaciones"}),(0,a.jsx)(c.Xi,{value:"available",children:"Disponibles"}),(0,a.jsx)(c.Xi,{value:"progress",children:"Mi Progreso"})]}),(0,a.jsx)(c.av,{value:"my-trainings",className:"space-y-4",children:b.map(e=>(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsx)(l.E,{variant:"outline",children:e.category}),(0,a.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(C(e.status))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),e.duration]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Vence: ",e.deadline]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),e.instructor]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progreso"}),(0,a.jsxs)("span",{children:[e.progress,"%"]})]}),(0,a.jsx)(d.k,{value:e.progress,className:"h-2"})]})]}),(0,a.jsxs)("div",{className:"ml-4 space-y-2",children:[(0,a.jsx)(n.$,{size:"sm",variant:"completed"===e.status?"outline":"default",children:"completed"===e.status?"Revisar":"Continuar"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:_(e.status)})]})]})})},e.id))}),(0,a.jsx)(c.av,{value:"available",className:"space-y-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(e=>(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg",children:e.title}),(0,a.jsx)(l.E,{variant:"secondary",className:"mt-1",children:e.category})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{className:"font-bold",children:e.rating})]})})]})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),e.duration]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),e.participants," participantes"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(l.E,{variant:"outline",children:e.level}),(0,a.jsx)(n.$,{size:"sm",children:"Inscribirse"})]})]})]},e.id))})}),(0,a.jsx)(c.av,{value:"progress",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5"}),"Progreso de Capacitaci\xf3n"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"text-center p-8 border-2 border-dashed border-muted-foreground/20 rounded-lg",children:[(0,a.jsx)(v.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"An\xe1lisis de Progreso"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Esta secci\xf3n mostrar\xe1 gr\xe1ficos detallados de tu progreso en capacitaciones, certificaciones obtenidas y recomendaciones personalizadas."})]})})})]})})]})]})})}},11133:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(40157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},13300:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(40157).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},17313:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>l});var a=r(95155),t=r(12115),i=r(60704),n=r(59434);let l=i.bL,d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t})});d.displayName=i.B8.displayName;let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t})});c.displayName=i.l9.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});o.displayName=i.UC.displayName},19053:(e,s,r)=>{"use strict";r.d(s,{O:()=>d});var a=r(95155),t=r(12115),i=r(35695),n=r(40283),l=r(50172);let d=e=>{let{children:s,allowedRoles:r}=e,{user:d,loading:c}=(0,n.A)(),o=(0,i.useRouter)();return((0,t.useEffect)(()=>{if(!c){if(!d)return void o.push("/");if(r&&!r.includes(d.role))return void o.push("/dashboard")}},[d,c,o,r]),c)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin"})}):d&&(!r||r.includes(d.role))?(0,a.jsx)(a.Fragment,{children:s}):null}},24944:(e,s,r)=>{"use strict";r.d(s,{k:()=>l});var a=r(95155),t=r(12115),i=r(88216),n=r(59434);let l=t.forwardRef((e,s)=>{let{className:r,value:t,...l}=e;return(0,a.jsx)(i.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...l,children:(0,a.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});l.displayName=i.bL.displayName},26126:(e,s,r)=>{"use strict";r.d(s,{E:()=>l});var a=r(95155);r(12115);var t=r(74466),i=r(59434);let n=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:r,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:r}),s),...t})}},30285:(e,s,r)=>{"use strict";r.d(s,{$:()=>c,r:()=>d});var a=r(95155),t=r(12115),i=r(66634),n=r(74466),l=r(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,s)=>{let{className:r,variant:t,size:n,asChild:c=!1,...o}=e,u=c?i.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:t,size:n,className:r})),ref:s,...o})});c.displayName="Button"},35695:(e,s,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}})},40283:(e,s,r)=>{"use strict";r.d(s,{A:()=>c,AuthProvider:()=>o});var a=r(95155),t=r(12115),i=r(93004),n=r(35317),l=r(70412);let d=(0,t.createContext)(void 0),c=()=>{let e=(0,t.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:s}=e,[r,c]=(0,t.useState)(null),[o,u]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=(0,i.hg)(l.j,async e=>{if(e){let s=await (0,n.x7)((0,n.H9)(l.db,"users",e.uid));if(s.exists()){let r=s.data();c({uid:e.uid,email:e.email,displayName:e.displayName||r.displayName,role:r.role,companyId:r.companyId})}}else c(null);u(!1)});return()=>e()},[]);let m=async(e,s)=>{u(!0);try{await (0,i.x9)(l.j,e,s)}catch(e){throw u(!1),e}},x=async(e,s,r,a)=>{u(!0);try{let{user:t}=await (0,i.eJ)(l.j,e,s);await (0,i.r7)(t,{displayName:r}),await (0,n.BN)((0,n.H9)(l.db,"users",t.uid),{email:e,displayName:r,role:a,createdAt:new Date,updatedAt:new Date})}catch(e){throw u(!1),e}},f=async()=>{await (0,i.CI)(l.j)},p=async e=>{await (0,i.J1)(l.j,e)},h=async e=>{if(!r||!l.j.currentUser)throw Error("No user authenticated");e.displayName&&e.displayName!==r.displayName&&await (0,i.r7)(l.j.currentUser,{displayName:e.displayName}),await (0,n.mZ)((0,n.H9)(l.db,"users",r.uid),{...e,updatedAt:(0,n.O5)()}),c(s=>s?{...s,...e}:null)},g=async()=>{if(!l.j.currentUser)throw Error("No user authenticated");await (0,i.gA)(l.j.currentUser)};return(0,a.jsx)(d.Provider,{value:{user:r,loading:o,login:m,register:x,logout:f,resetPassword:p,updateUserProfile:h,verifyEmail:g},children:s})}},50172:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},59434:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var a=r(52596),t=r(39688);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.QP)((0,a.$)(s))}},66695:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>l,wL:()=>u});var a=r(95155),t=r(12115),i=r(59434);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});n.displayName="Card";let l=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...t})});l.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",r),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",r),...t})});o.displayName="CardContent";let u=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r),...t})});u.displayName="CardFooter"},70412:(e,s,r)=>{"use strict";r.d(s,{db:()=>c,j:()=>d,y:()=>l});var a=r(23915),t=r(93004),i=r(35317),n=r(87358);for(let e of["NEXT_PUBLIC_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID","NEXT_PUBLIC_FIREBASE_APP_ID"])if(!n.env[e])throw Error("Missing required environment variable: ".concat(e));let l=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyCfyNXGXUX0ip0icCSuDlKasX2PN4GIKiY",authDomain:"studio-6568907544-ca1d2.firebaseapp.com",projectId:"studio-6568907544-ca1d2",storageBucket:"studio-6568907544-ca1d2.appspot.com",messagingSenderId:"95313933174",appId:"1:95313933174:web:04ac254b7c65fdbdbfc057"}),d=(0,t.xI)(l),c=(0,i.aU)(l)},76390:(e,s,r)=>{Promise.resolve().then(r.bind(r,3408))},80659:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(40157).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,4277,3909,4052,4191,8441,1684,7358],()=>s(76390)),_N_E=e.O()}]);