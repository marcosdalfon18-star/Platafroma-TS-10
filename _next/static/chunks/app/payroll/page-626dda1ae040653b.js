(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{37394:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var l=a(95155),n=a(12115),r=a(66695),t=a(30285),i=a(85127),d=a(26126),c=a(34301),o=a(51920),x=a(50286),m=a(88390),h=a(80659),u=a(6160),j=a(50172),p=a(17607),N=a(10518),v=a(68718),f=a(14089),b=a(59409),g=a(57873);let y=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],A=Array.from({length:5},(e,s)=>new Date().getFullYear()-2+s);function w(){var e;let{payrolls:s,loading:a,summary:w,loadPayrollsByPeriod:S,approvePayroll:C,markAsPaid:E,createPayroll:B}=(0,f.E)(),[k,z]=(0,n.useState)(new Date().getMonth()+1),[Z,T]=(0,n.useState)(new Date().getFullYear()),[F,W]=(0,n.useState)(!1),_=()=>{S(k,Z)};n.useEffect(()=>{_()},[k,Z]);let D=e=>{switch(e){case"draft":default:return"secondary";case"approved":return"default";case"paid":return"outline"}},G=e=>{switch(e){case"draft":return"Borrador";case"approved":return"Aprobado";case"paid":return"Pagado";default:return e}},I=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("header",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Gesti\xf3n de N\xf3minas"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Administra los pagos y n\xf3minas de todos los empleados"})]}),(0,l.jsxs)(t.$,{onClick:()=>W(!0),children:[(0,l.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Nueva N\xf3mina"]})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(o.A,{className:"h-5 w-5"}),"Per\xedodo de N\xf3mina"]}),(0,l.jsx)(r.BT,{children:"Selecciona el mes y a\xf1o para ver las n\xf3minas correspondientes"})]}),(0,l.jsx)(r.Wu,{children:(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsxs)(b.l6,{value:k.toString(),onValueChange:e=>z(parseInt(e)),children:[(0,l.jsx)(b.bq,{className:"w-48",children:(0,l.jsx)(b.yv,{})}),(0,l.jsx)(b.gC,{children:y.map(e=>(0,l.jsx)(b.eb,{value:e.value.toString(),children:e.label},e.value))})]}),(0,l.jsxs)(b.l6,{value:Z.toString(),onValueChange:e=>T(parseInt(e)),children:[(0,l.jsx)(b.bq,{className:"w-32",children:(0,l.jsx)(b.yv,{})}),(0,l.jsx)(b.gC,{children:A.map(e=>(0,l.jsx)(b.eb,{value:e.toString(),children:e},e))})]})]})})]}),w&&(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsx)(r.Zp,{children:(0,l.jsx)(r.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Empleados"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:w.totalEmployees})]})]})})}),(0,l.jsx)(r.Zp,{children:(0,l.jsx)(r.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bruto"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:I(w.totalGross)})]})]})})}),(0,l.jsx)(r.Zp,{children:(0,l.jsx)(r.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Neto"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:I(w.totalNet)})]})]})})}),(0,l.jsx)(r.Zp,{children:(0,l.jsx)(r.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Pagadas"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:w.byStatus.paid})]})]})})})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{children:"N\xf3minas del Per\xedodo"}),(0,l.jsxs)(r.BT,{children:["Lista de todas las n\xf3minas para ",null==(e=y.find(e=>e.value===k))?void 0:e.label," ",Z]})]}),(0,l.jsx)(r.Wu,{children:a?(0,l.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,l.jsx)(j.A,{className:"h-8 w-8 animate-spin"}),(0,l.jsx)("span",{className:"ml-2",children:"Cargando n\xf3minas..."})]}):0===s.length?(0,l.jsxs)("div",{className:"text-center p-8 text-muted-foreground",children:[(0,l.jsx)(u.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,l.jsx)("p",{children:"No hay n\xf3minas para este per\xedodo"}),(0,l.jsx)("p",{className:"text-sm",children:"Crea la primera n\xf3mina para comenzar"})]}):(0,l.jsxs)(i.XI,{children:[(0,l.jsx)(i.A0,{children:(0,l.jsxs)(i.Hj,{children:[(0,l.jsx)(i.nd,{children:"Empleado"}),(0,l.jsx)(i.nd,{children:"Salario Base"}),(0,l.jsx)(i.nd,{children:"Total Bruto"}),(0,l.jsx)(i.nd,{children:"Total Neto"}),(0,l.jsx)(i.nd,{children:"Estado"}),(0,l.jsx)(i.nd,{className:"text-right",children:"Acciones"})]})}),(0,l.jsx)(i.BF,{children:s.map(e=>(0,l.jsxs)(i.Hj,{children:[(0,l.jsx)(i.nA,{className:"font-medium",children:e.employeeId}),(0,l.jsx)(i.nA,{children:I(e.baseSalary)}),(0,l.jsx)(i.nA,{children:I(e.totalGross)}),(0,l.jsx)(i.nA,{className:"font-medium",children:I(e.totalNet)}),(0,l.jsx)(i.nA,{children:(0,l.jsx)(d.E,{variant:D(e.status),children:G(e.status)})}),(0,l.jsx)(i.nA,{className:"text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)(t.$,{variant:"outline",size:"sm",children:(0,l.jsx)(p.A,{className:"h-4 w-4"})}),"draft"===e.status&&(0,l.jsx)(t.$,{variant:"outline",size:"sm",onClick:()=>C(e.id),children:(0,l.jsx)(N.A,{className:"h-4 w-4"})}),"approved"===e.status&&(0,l.jsx)(t.$,{variant:"outline",size:"sm",onClick:()=>E(e.id),children:(0,l.jsx)(u.A,{className:"h-4 w-4"})}),(0,l.jsx)(t.$,{variant:"outline",size:"sm",children:(0,l.jsx)(v.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),(0,l.jsx)(g.A,{isOpen:F,onClose:()=>W(!1),onSubmit:async e=>{try{await B(e),_()}catch(e){}},employees:[{id:"emp1",name:"Ana Garc\xeda",position:"Desarrolladora Frontend",baseSalary:2500},{id:"emp2",name:"Carlos L\xf3pez",position:"Gerente de Ventas",baseSalary:3e3},{id:"emp3",name:"Mar\xeda Rodr\xedguez",position:"Analista de Marketing",baseSalary:2200}]})]})}},53275:(e,s,a)=>{Promise.resolve().then(a.bind(a,37394))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,4277,3909,9233,2001,7788,2891,4999,8615,7023,8441,1684,7358],()=>s(53275)),_N_E=e.O()}]);