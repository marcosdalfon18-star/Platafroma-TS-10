(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6796],{19053:(e,s,a)=>{"use strict";a.d(s,{O:()=>d});var t=a(95155),l=a(12115),r=a(35695),n=a(40283),c=a(50172);let d=e=>{let{children:s,allowedRoles:a}=e,{user:d,loading:i}=(0,n.A)(),o=(0,r.useRouter)();return((0,l.useEffect)(()=>{if(!i){if(!d)return void o.push("/");if(a&&!a.includes(d.role))return void o.push("/dashboard")}},[d,i,o,a]),i)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(c.A,{className:"h-8 w-8 animate-spin"})}):d&&(!a||a.includes(d.role))?(0,t.jsx)(t.Fragment,{children:s}):null}},38647:(e,s,a)=>{Promise.resolve().then(a.bind(a,41350))},41350:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var t=a(95155),l=a(12115),r=a(66695),n=a(30285),c=a(26126),d=a(59099),i=a(37648),o=a(5263),x=a(50286),m=a(51920),u=a(40283),h=a(19053),j=a(75171);let N={clockIn:"09:00",clockOut:"17:30",breakStart:"12:30",breakEnd:"13:30",totalHours:"7.5",status:"in_progress"},f={totalHours:"37.5",overtimeHours:"2.5",absences:0,tardiness:1},g=[{date:"2024-10-14",clockIn:"08:58",clockOut:"17:32",totalHours:"8:34",status:"complete"},{date:"2024-10-13",clockIn:"09:05",clockOut:"17:30",totalHours:"8:25",status:"complete"},{date:"2024-10-12",clockIn:"09:00",clockOut:"17:15",totalHours:"8:15",status:"complete"},{date:"2024-10-11",clockIn:"08:55",clockOut:"17:45",totalHours:"8:50",status:"overtime"}];function v(){let{user:e}=(0,u.A)(),[s,a]=(0,l.useState)(new Date);l.useEffect(()=>{let e=setInterval(()=>a(new Date),1e3);return()=>clearInterval(e)},[]);let v=(null==e?void 0:e.role)==="empleado",p=(null==e?void 0:e.role)&&["consultor","empresario","gestor"].includes(e.role);return(0,t.jsx)(h.O,{allowedRoles:["consultor","empresario","empleado","gestor"],children:(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Control de Horario"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Gesti\xf3n y seguimiento del tiempo de trabajo"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-mono font-bold",children:s.toLocaleTimeString()}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:s.toLocaleDateString()})]})]}),v&&(0,t.jsxs)(r.Zp,{className:"border-2 border-primary/20",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),"Control de Asistencia"]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)(j.a,{todayAttendance:null,onCheckIn:()=>console.log("Check in"),onCheckOut:()=>console.log("Check out"),onStartBreak:()=>console.log("Start break"),onEndBreak:()=>console.log("End break"),loading:!1})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"h-5 w-5"}),"Horario de Hoy"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estado:"}),(0,t.jsx)(c.E,{variant:"in_progress"===N.status?"default":"secondary",children:"in_progress"===N.status?"En Curso":"Completado"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Entrada:"}),(0,t.jsx)("span",{className:"font-mono",children:N.clockIn})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Salida:"}),(0,t.jsx)("span",{className:"font-mono",children:N.clockOut})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Almuerzo:"}),(0,t.jsxs)("span",{className:"font-mono",children:[N.breakStart," - ",N.breakEnd]})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Total:"}),(0,t.jsxs)("span",{className:"font-mono font-bold",children:[N.totalHours,"h"]})]})]})]})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Esta Semana"]})}),(0,t.jsx)(r.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[f.totalHours,"h"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Horas Totales"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[f.overtimeHours,"h"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Horas Extra"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f.absences}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Ausencias"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:f.tardiness}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Llegadas Tarde"})]})]})})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Acciones"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-3",children:[(0,t.jsxs)(n.$,{className:"w-full",variant:"outline",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Ver Calendario"]}),(0,t.jsxs)(n.$,{className:"w-full",variant:"outline",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Generar Reporte"]}),p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.$,{className:"w-full",variant:"outline",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Gestionar Equipos"]}),(0,t.jsxs)(n.$,{className:"w-full",variant:"outline",children:[(0,t.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Configurar Horarios"]})]})]})]})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),"Actividad Reciente"]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:g.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full ".concat("complete"===e.status?"bg-green-500":"overtime"===e.status?"bg-orange-500":"bg-gray-400")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.date}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.clockIn," - ",e.clockOut]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-mono font-medium",children:e.totalHours}),(0,t.jsx)(c.E,{variant:"overtime"===e.status?"destructive":"default",className:"text-xs",children:"overtime"===e.status?"Horas Extra":"Normal"})]})]},s))})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,4277,3909,4865,7885,8441,1684,7358],()=>s(38647)),_N_E=e.O()}]);